{
  "title": "PULL Business Metrics Dashboard",
  "description": "Business KPIs: trading activity, user growth, revenue metrics, and engagement for PULL platform",
  "widgets": [
    {
      "id": 1,
      "definition": {
        "title": "Key Business Metrics",
        "title_size": "16",
        "title_align": "left",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 101,
            "definition": {
              "title": "Daily Active Users (DAU)",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.users.daily_active{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          },
          {
            "id": 102,
            "definition": {
              "title": "Weekly Active Users (WAU)",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.users.weekly_active{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          },
          {
            "id": 103,
            "definition": {
              "title": "Total Registered Users",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.users.total_registered{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          },
          {
            "id": 104,
            "definition": {
              "title": "DAU/MAU Ratio",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "(a / b) * 100"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.users.daily_active{$env}"},
                    {"name": "b", "data_source": "metrics", "query": "sum:pull.users.monthly_active{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 1,
              "custom_unit": "%",
              "text_align": "center",
              "conditional_formats": [
                {"comparator": ">=", "value": 20, "palette": "white_on_green"},
                {"comparator": ">=", "value": 10, "palette": "white_on_yellow"},
                {"comparator": "<", "value": 10, "palette": "white_on_red"}
              ]
            }
          }
        ]
      },
      "layout": {"x": 0, "y": 0, "width": 12, "height": 2}
    },
    {
      "id": 2,
      "definition": {
        "title": "Trading Volume",
        "title_size": "16",
        "title_align": "left",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 201,
            "definition": {
              "title": "Total Trades Today",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env}.as_count().rollup(sum, 86400)"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          },
          {
            "id": 202,
            "definition": {
              "title": "Trading Volume ($)",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.volume.usd{$env}.rollup(sum, 86400)"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "custom_unit": "$",
              "text_align": "center"
            }
          },
          {
            "id": 203,
            "definition": {
              "title": "Avg Trade Size",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a / b"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.volume.usd{$env}"},
                    {"name": "b", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env}.as_count()"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 2,
              "autoscale": true,
              "custom_unit": "$",
              "text_align": "center"
            }
          },
          {
            "id": 204,
            "definition": {
              "title": "Order Fill Rate",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "(a / b) * 100"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.orders.filled{$env}.as_count()"},
                    {"name": "b", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env}.as_count()"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 1,
              "custom_unit": "%",
              "text_align": "center",
              "conditional_formats": [
                {"comparator": ">=", "value": 95, "palette": "white_on_green"},
                {"comparator": ">=", "value": 85, "palette": "white_on_yellow"},
                {"comparator": "<", "value": 85, "palette": "white_on_red"}
              ]
            }
          }
        ]
      },
      "layout": {"x": 0, "y": 2, "width": 12, "height": 2}
    },
    {
      "id": 3,
      "definition": {
        "title": "User Activity Trends",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "DAU"},
              {"formula": "b", "alias": "New Signups"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.users.daily_active{$env}"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.users.new_signups{$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "dog_classic"},
            "display_type": "line"
          }
        ],
        "yaxis": {"include_zero": true}
      },
      "layout": {"x": 0, "y": 4, "width": 6, "height": 3}
    },
    {
      "id": 4,
      "definition": {
        "title": "Trading Volume Over Time",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Volume ($)"},
              {"formula": "b", "alias": "Trade Count"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.volume.usd{$env}"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "warm"},
            "display_type": "bars"
          }
        ],
        "yaxis": {"include_zero": true}
      },
      "layout": {"x": 6, "y": 4, "width": 6, "height": 3}
    },
    {
      "id": 5,
      "definition": {
        "title": "Revenue Metrics",
        "title_size": "16",
        "title_align": "left",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 501,
            "definition": {
              "title": "Daily Revenue",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.revenue.daily{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 2,
              "autoscale": true,
              "custom_unit": "$",
              "text_align": "center"
            }
          },
          {
            "id": 502,
            "definition": {
              "title": "MTD Revenue",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.revenue.monthly_to_date{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 2,
              "autoscale": true,
              "custom_unit": "$",
              "text_align": "center"
            }
          },
          {
            "id": 503,
            "definition": {
              "title": "Transaction Fees",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.revenue.transaction_fees{$env}.rollup(sum, 86400)"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 2,
              "autoscale": true,
              "custom_unit": "$",
              "text_align": "center"
            }
          },
          {
            "id": 504,
            "definition": {
              "title": "ARPU (30d)",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a / b"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.revenue.monthly{$env}"},
                    {"name": "b", "data_source": "metrics", "query": "sum:pull.users.monthly_active{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 2,
              "autoscale": true,
              "custom_unit": "$",
              "text_align": "center"
            }
          }
        ]
      },
      "layout": {"x": 0, "y": 7, "width": 12, "height": 2}
    },
    {
      "id": 6,
      "definition": {
        "title": "Order Status Distribution",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Created"},
              {"formula": "b", "alias": "Filled"},
              {"formula": "c", "alias": "Cancelled"},
              {"formula": "d", "alias": "Failed"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env}.as_count()"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.trading.orders.filled{$env}.as_count()"},
              {"name": "c", "data_source": "metrics", "query": "sum:pull.trading.orders.cancelled{$env}.as_count()"},
              {"name": "d", "data_source": "metrics", "query": "sum:pull.trading.orders.failed{$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "semantic"},
            "display_type": "bars"
          }
        ]
      },
      "layout": {"x": 0, "y": 9, "width": 6, "height": 3}
    },
    {
      "id": 7,
      "definition": {
        "title": "Order Types Distribution",
        "type": "sunburst",
        "requests": [
          {
            "formulas": [{"formula": "a"}],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env} by {order_type}.as_count()"}
            ],
            "response_format": "scalar"
          }
        ]
      },
      "layout": {"x": 6, "y": 9, "width": 3, "height": 3}
    },
    {
      "id": 8,
      "definition": {
        "title": "Order Side Distribution",
        "type": "sunburst",
        "requests": [
          {
            "formulas": [{"formula": "a"}],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.trading.orders.created{$env} by {side}.as_count()"}
            ],
            "response_format": "scalar"
          }
        ]
      },
      "layout": {"x": 9, "y": 9, "width": 3, "height": 3}
    },
    {
      "id": 9,
      "definition": {
        "title": "User Funnel Metrics",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Signups"},
              {"formula": "b", "alias": "KYC Started"},
              {"formula": "c", "alias": "KYC Completed"},
              {"formula": "d", "alias": "First Trade"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.users.new_signups{$env}.as_count()"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.kyc.started{$env}.as_count()"},
              {"name": "c", "data_source": "metrics", "query": "sum:pull.kyc.completed{$env}.as_count()"},
              {"name": "d", "data_source": "metrics", "query": "sum:pull.users.first_trade{$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "cool"},
            "display_type": "line"
          }
        ]
      },
      "layout": {"x": 0, "y": 12, "width": 6, "height": 3}
    },
    {
      "id": 10,
      "definition": {
        "title": "KYC Conversion Funnel",
        "type": "funnel",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Started"},
              {"formula": "b", "alias": "Documents Submitted"},
              {"formula": "c", "alias": "Under Review"},
              {"formula": "d", "alias": "Approved"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.kyc.started{$env}.as_count()"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.kyc.documents_submitted{$env}.as_count()"},
              {"name": "c", "data_source": "metrics", "query": "sum:pull.kyc.under_review{$env}.as_count()"},
              {"name": "d", "data_source": "metrics", "query": "sum:pull.kyc.approved{$env}.as_count()"}
            ],
            "response_format": "scalar"
          }
        ]
      },
      "layout": {"x": 6, "y": 12, "width": 6, "height": 3}
    },
    {
      "id": 11,
      "definition": {
        "title": "Fantasy Sports Activity",
        "title_size": "16",
        "title_align": "left",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1101,
            "definition": {
              "title": "Active Leagues",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.fantasy.leagues.active{$env}"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          },
          {
            "id": 1102,
            "definition": {
              "title": "Teams Created Today",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.fantasy.teams.created{$env}.as_count().rollup(sum, 86400)"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          },
          {
            "id": 1103,
            "definition": {
              "title": "Transactions Today",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [{"formula": "a"}],
                  "queries": [
                    {"name": "a", "data_source": "metrics", "query": "sum:pull.fantasy.transactions{$env}.as_count().rollup(sum, 86400)"}
                  ],
                  "response_format": "scalar"
                }
              ],
              "precision": 0,
              "autoscale": true,
              "text_align": "center"
            }
          }
        ]
      },
      "layout": {"x": 0, "y": 15, "width": 12, "height": 2}
    },
    {
      "id": 12,
      "definition": {
        "title": "Sports Activity by League",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "NBA"},
              {"formula": "b", "alias": "MLB"},
              {"formula": "c", "alias": "Golf"},
              {"formula": "d", "alias": "NCAA"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.sports.api.requests{sport:nba,$env}.as_count()"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.sports.api.requests{sport:mlb,$env}.as_count()"},
              {"name": "c", "data_source": "metrics", "query": "sum:pull.sports.api.requests{sport:golf,$env}.as_count()"},
              {"name": "d", "data_source": "metrics", "query": "sum:pull.sports.api.requests{sport:ncaa,$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "dog_classic"},
            "display_type": "bars"
          }
        ]
      },
      "layout": {"x": 0, "y": 17, "width": 6, "height": 3}
    },
    {
      "id": 13,
      "definition": {
        "title": "Predictions & AI Insights Usage",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Predictions Viewed"},
              {"formula": "b", "alias": "AI Insights Requests"},
              {"formula": "c", "alias": "Signals Generated"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.predictions.views{$env}.as_count()"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.ai_insights.requests{$env}.as_count()"},
              {"name": "c", "data_source": "metrics", "query": "sum:pull.signals.generated{$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "purple"},
            "display_type": "line"
          }
        ]
      },
      "layout": {"x": 6, "y": 17, "width": 6, "height": 3}
    },
    {
      "id": 14,
      "definition": {
        "title": "Deposits & Withdrawals",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Deposits ($)"},
              {"formula": "b", "alias": "Withdrawals ($)"},
              {"formula": "a - b", "alias": "Net Flow"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.payments.deposits.amount{$env}"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.payments.withdrawals.amount{$env}"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "semantic"},
            "display_type": "line"
          }
        ]
      },
      "layout": {"x": 0, "y": 20, "width": 6, "height": 3}
    },
    {
      "id": 15,
      "definition": {
        "title": "Gamification & Rewards",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {"formula": "a", "alias": "Rewards Claimed"},
              {"formula": "b", "alias": "Points Earned"},
              {"formula": "c", "alias": "Referrals"}
            ],
            "queries": [
              {"name": "a", "data_source": "metrics", "query": "sum:pull.gamification.rewards.claimed{$env}.as_count()"},
              {"name": "b", "data_source": "metrics", "query": "sum:pull.gamification.points.earned{$env}"},
              {"name": "c", "data_source": "metrics", "query": "sum:pull.users.referrals{$env}.as_count()"}
            ],
            "response_format": "timeseries",
            "style": {"palette": "cool"},
            "display_type": "line"
          }
        ]
      },
      "layout": {"x": 6, "y": 20, "width": 6, "height": 3}
    }
  ],
  "template_variables": [
    {
      "name": "env",
      "default": "production",
      "prefix": "env",
      "available_values": ["production", "staging", "development"]
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed",
  "tags": ["team:business", "team:product", "service:pull"]
}
