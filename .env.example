# ==============================================================================
# PULL Super App - Environment Configuration
# ==============================================================================

# ------------------------------------------------------------------------------
# Runtime Environment
# ------------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
API_URL=http://localhost:3001
WEB_URL=http://localhost:3000

# ------------------------------------------------------------------------------
# Authentication & Security
# ------------------------------------------------------------------------------
JWT_SECRET=your-jwt-secret-min-32-chars-long-here
JWT_EXPIRY=7d
REFRESH_TOKEN_EXPIRY=30d
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# ------------------------------------------------------------------------------
# Database
# ------------------------------------------------------------------------------
# Postgres (primary for auth, sessions)
DATABASE_URL=postgresql://pull:pull@localhost:5432/pull_dev

# Redis (caching, rate limiting, sessions)
REDIS_URL=redis://localhost:6379

# Convex (real-time data)
CONVEX_URL=https://your-project.convex.cloud
CONVEX_DEPLOY_KEY=your-convex-deploy-key
NEXT_PUBLIC_CONVEX_URL=https://your-project.convex.cloud

# ------------------------------------------------------------------------------
# Temporal.io (Workflow Orchestration)
# ------------------------------------------------------------------------------
TEMPORAL_ADDRESS=localhost:7233
TEMPORAL_NAMESPACE=pull-development
TEMPORAL_TASK_QUEUE=pull-workers
TEMPORAL_TLS_CERT=
TEMPORAL_TLS_KEY=

# ------------------------------------------------------------------------------
# Trading APIs
# ------------------------------------------------------------------------------

# Massive API (Order Execution)
MASSIVE_API_KEY=your-massive-api-key
MASSIVE_API_SECRET=your-massive-api-secret
MASSIVE_BASE_URL=https://api.massive.com
MASSIVE_WS_URL=wss://ws.massive.com

# Kalshi (Prediction Markets)
KALSHI_API_KEY=your-kalshi-api-key
KALSHI_API_SECRET=your-kalshi-api-secret
KALSHI_BASE_URL=https://trading-api.kalshi.com

# Polygon.io (Market Data)
POLYGON_API_KEY=your-polygon-api-key

# ------------------------------------------------------------------------------
# Identity & Compliance
# ------------------------------------------------------------------------------

# Persona (Identity Verification)
PERSONA_API_KEY=your-persona-api-key
PERSONA_TEMPLATE_ID=tmpl_xxxxxxxxxx
PERSONA_WEBHOOK_SECRET=your-persona-webhook-secret

# Checkr (Background Checks)
CHECKR_API_KEY=your-checkr-api-key
CHECKR_WEBHOOK_SECRET=your-checkr-webhook-secret

# Chainalysis (Crypto Compliance)
CHAINALYSIS_API_KEY=your-chainalysis-api-key

# Plaid (Bank Connections)
PLAID_CLIENT_ID=your-plaid-client-id
PLAID_SECRET=your-plaid-secret
PLAID_ENV=sandbox

# ------------------------------------------------------------------------------
# RWAs & Collectibles
# ------------------------------------------------------------------------------

# CollectorCrypt (Pokemon Card Authentication)
COLLECTORCRYPT_API_KEY=your-collectorcrypt-api-key
COLLECTORCRYPT_BASE_URL=https://api.collectorcrypt.com

# ------------------------------------------------------------------------------
# Communication
# ------------------------------------------------------------------------------

# Matrix/Synapse (Federated Messaging)
MATRIX_HOMESERVER_URL=https://matrix.pull.app
MATRIX_ADMIN_TOKEN=your-matrix-admin-token

# Resend (Transactional Email)
RESEND_API_KEY=re_xxxxxxxx
RESEND_FROM_EMAIL=noreply@pull.app

# Nylas (Email Sync)
NYLAS_API_KEY=your-nylas-api-key
NYLAS_API_URI=https://api.us.nylas.com
NYLAS_WEBHOOK_SECRET=your-nylas-webhook-secret

# ------------------------------------------------------------------------------
# AI & Intelligence
# ------------------------------------------------------------------------------

# Anthropic Claude (AI Agents)
ANTHROPIC_API_KEY=sk-ant-xxxxxxxx

# OpenAI (Embeddings)
OPENAI_API_KEY=sk-xxxxxxxx

# ------------------------------------------------------------------------------
# Blockchain & Web3
# ------------------------------------------------------------------------------

# Polygon Network
POLYGON_RPC_URL=https://polygon-rpc.com
POLYGON_TESTNET_RPC_URL=https://rpc-amoy.polygon.technology

# Wallet Connect
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your-walletconnect-project-id

# ------------------------------------------------------------------------------
# Storage
# ------------------------------------------------------------------------------

# Cloudflare R2 / AWS S3
S3_BUCKET=pull-assets
S3_REGION=auto
S3_ENDPOINT=https://your-account.r2.cloudflarestorage.com
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key

# ------------------------------------------------------------------------------
# Monitoring & Observability
# ------------------------------------------------------------------------------
SENTRY_DSN=https://xxx@sentry.io/xxx

# ------------------------------------------------------------------------------
# ClickHouse (Analytics Database)
# ------------------------------------------------------------------------------
CLICKHOUSE_HOST=your-clickhouse-host.clickhouse.cloud
CLICKHOUSE_PORT=8443
CLICKHOUSE_DATABASE=pull_analytics
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=your-clickhouse-password
CLICKHOUSE_PROTOCOL=https

# ------------------------------------------------------------------------------
# Pinecone (Vector Search)
# ------------------------------------------------------------------------------
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-east-1-aws
PINECONE_INDEX_NAME=pull-embeddings

# ------------------------------------------------------------------------------
# Redis (Enhanced - Leaderboards & Caching)
# ------------------------------------------------------------------------------
# Using Upstash for serverless Redis
UPSTASH_REDIS_URL=https://your-instance.upstash.io
UPSTASH_REDIS_TOKEN=your-upstash-token
REDIS_KEY_PREFIX=pull:

# ------------------------------------------------------------------------------
# Recommendation Engine
# ------------------------------------------------------------------------------
RECOMMENDATION_ENABLED=true
RECOMMENDATION_EMBEDDING_MODEL=text-embedding-3-small
RECOMMENDATION_CACHE_TTL=3600

# ------------------------------------------------------------------------------
# Fraud Detection
# ------------------------------------------------------------------------------
FRAUD_DETECTION_ENABLED=true
FRAUD_HIGH_RISK_THRESHOLD=0.8
FRAUD_MEDIUM_RISK_THRESHOLD=0.5
FRAUD_MAX_VELOCITY_PER_MINUTE=10
FRAUD_MIN_TIME_BETWEEN_TRADES=5

# ------------------------------------------------------------------------------
# A/B Testing (Experimentation)
# ------------------------------------------------------------------------------
EXPERIMENTATION_PROJECT_ID=pull-experiments
EXPERIMENTATION_ENVIRONMENT=development

# ------------------------------------------------------------------------------
# Push Notifications
# ------------------------------------------------------------------------------
# Firebase Cloud Messaging
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com

# OneSignal (Alternative/Backup)
ONESIGNAL_APP_ID=your-onesignal-app-id
ONESIGNAL_API_KEY=your-onesignal-api-key

# ------------------------------------------------------------------------------
# Analytics Pipeline
# ------------------------------------------------------------------------------
# Segment
SEGMENT_WRITE_KEY=your-segment-write-key
SEGMENT_DATA_PLANE_URL=https://api.segment.io/v1

# BigQuery
BIGQUERY_PROJECT_ID=your-gcp-project
BIGQUERY_DATASET_ID=pull_analytics
BIGQUERY_CLIENT_EMAIL=bigquery@your-project.iam.gserviceaccount.com
BIGQUERY_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
BIGQUERY_LOCATION=US

# Metabase
METABASE_INSTANCE_URL=https://metabase.pull.app
METABASE_API_KEY=your-metabase-api-key
